(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{330:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var o=n(0);function i(t,e){const n=t.options.name,i=function(t){const e=document.querySelector("."+t);if(e)return e;{const e=document.createElement("div");e.className=t;const n=document.querySelector("#app")||document.querySelector("body");return n&&n.appendChild(e),e}}(n);return new o.a({el:i,data:()=>({props:{}}),render(o){return o("div",{class:n},[o(t,{props:{...e,...this.$data.props},ref:"myChild"})])}})}},361:function(t,e,n){},362:function(t,e,n){},406:function(t,e,n){"use strict";n(361)},407:function(t,e,n){"use strict";n(362)},419:function(t,e,n){"use strict";n.r(e);var o=n(0),i=n(28),a=n(330),s=n(104),c=n(167),r=n(23);const l={wechat:{icon:c.b.get("wechat"),name:"微信"},moments:{icon:c.b.get("moments"),name:"朋友圈"},qq:{icon:c.b.get("qq"),name:"QQ"},qZone:{icon:c.b.get("qzone"),name:"QQ空间"},message:{icon:c.b.get("message"),name:"短信"},weibo:{icon:c.b.get("weibo"),name:"微博"},wallet:{icon:c.b.get("wallet"),name:"钱包"}};var p=o.a.extend({name:"OPopupAction",components:{PopupBox:s.a,Button:i.a,Icon:r.a},props:{visible:{type:Boolean,required:!0},maskClosable:{type:Boolean,default:!0},ad:{type:String},type:{type:String,validator:t=>["share"].includes(t)},cancel:{type:Function},confirm:{type:Function},actions:{type:Array,required:!0,validator:t=>{let e=!0;return t.forEach(t=>{"object"==typeof t&&void 0===t.name&&(e=!1)}),e}}},computed:{isShare(){return"share"===this.type},iconSideLength(){return this.isShare?48:24},actionClasses(){const t=[];if(this.type)t.push("share");else{t.push("default");const e=this.actions&&this.actions[0];"object"==typeof e&&e.icon&&t.push("with-icon")}return t},computedActions(){let t=[];return t="share"===this.type?this.actions.map(t=>{if("string"==typeof t)return l[t]}):this.actions,t}},methods:{isDanger(t){let e=!1;return"object"==typeof t&&(e=!!t.danger),e},getActionName:t=>"object"==typeof t?t.name.toString():t.toString(),handleConfirm(t){const e=t.target,n=Number(e.getAttribute("data-index"));if(NaN===n)return;const o=this.actions[n];this.confirm?this.confirm(o):this.$emit("confirm",o),this.handleCancel()},handleCancel(){this.cancel?this.cancel():this.$emit("cancel")},isIconDefaultPattern(t){return!this.isShare&&t.includes("o-")}}}),u=(n(406),n(5)),m=Object(u.a)(p,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("PopupBox",{staticClass:"popup-action",attrs:{visible:t.visible,maskClosable:t.maskClosable,footerVisible:!0},on:{"update:visible":function(e){t.visible=e},cancel:t.handleCancel}},[n("main",{staticClass:"popup-action-wrapper"},[t.isShare?n("div",{staticClass:"popup-action-header"},[t.ad?n("Icon",{staticClass:"ad",attrs:{type:"img",url:t.ad,width:351,height:44}}):n("h1",[t._v("分享到")])],1):t._e(),t._v(" "),n("div",{staticClass:"popup-action-list",class:t.actionClasses,on:{click:t.handleConfirm}},t._l(t.computedActions,(function(e,o){return n("div",{key:o,staticClass:"popup-action-item",attrs:{"data-index":o}},[e.icon?[t.isIconDefaultPattern(e.icon)?n("Icon",{staticClass:"popup-action-icon",attrs:{name:e.icon,color:e.iconColor,"data-index":o}}):n("Icon",{attrs:{url:e.icon,width:t.iconSideLength,height:t.iconSideLength,"data-index":o}})]:t._e(),t._v(" "),n("span",{staticClass:"popup-action-text",class:{danger:t.isDanger(e)},attrs:{"data-index":o}},[t._v(t._s(t.getActionName(e)))])],2)})),0)])])}),[],!1,null,"17d232b5",null).exports;var h={install:function(t){t.prototype.$popupAction=function(t){const e=Object(a.a)(m,{visible:!1,actions:[]});e.props={confirm:()=>{},cancel:()=>{e.props&&(e.props.visible=!1,e.$el.remove())},...t,visible:!0}},t.prototype.$share=function(e){t.prototype.$popupAction({...e,type:"share"})}}};o.a.use(h);var d=o.a.extend({name:"PopupActionDemo",components:{OButton:i.a},props:{currentDemo:{type:Number}},mounted(){},methods:{handlePopupAction(t){this.$popupAction({actions:["操作1","操作2","操作3","操作4","操作5"],...t,confirm(t){console.log("selected",t)}})},handleShare(){this.$share({ad:"https://i.loli.net/2021/04/07/UTyMhjWecx5PYv8.png",actions:["wechat","moments"]})}}}),f=(n(407),Object(u.a)(d,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[0===t.currentDemo?n("section",[t._v("\n    分享：\n\n    "),n("OButton",{attrs:{size:"small"},on:{click:function(e){return t.handlePopupAction({type:"share",actions:["wechat","moments","qq","qZone","message","weibo","wallet"]})}}},[t._v("点击")])],1):t._e(),t._v(" "),1===t.currentDemo?n("section",[t._v("\n    分享:（有广告）\n\n    "),n("OButton",{attrs:{size:"small"},on:{click:t.handleShare}},[t._v("点击")])],1):t._e(),t._v(" "),2===t.currentDemo?n("section",[t._v("\n    动作：（仅文字）\n\n    "),n("OButton",{attrs:{size:"small"},on:{click:t.handlePopupAction}},[t._v("点击")])],1):t._e(),t._v(" "),3===t.currentDemo?n("section",[t._v("\n    动作：（有危险动作）\n\n    "),n("OButton",{attrs:{size:"small"},on:{click:function(e){return t.handlePopupAction({actions:[{name:"操作1"},{name:"操作2"},{name:"操作3",danger:!0},{name:"操作4"},{name:"操作5"}]})}}},[t._v("点击")])],1):t._e(),t._v(" "),4===t.currentDemo?n("section",[t._v("\n    动作：（有icon）\n\n    "),n("OButton",{attrs:{size:"small"},on:{click:function(e){return t.handlePopupAction({actions:[{name:"操作1",icon:"o-train"},{name:"操作2",icon:"o-close"},{name:"操作3",icon:"o-help"},{name:"操作4",icon:"https://i.loli.net/2021/04/07/gHpUJKwyTuCNzht.png"},{name:"操作5",icon:"https://i.loli.net/2021/04/07/r9LXR2lDp7PUiQH.png"}]})}}},[t._v("点击")])],1):t._e()])}),[],!1,null,"0a01b1f4",null));e.default=f.exports}}]);